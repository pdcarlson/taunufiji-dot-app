name: Scheduled Cron Job

on:
    schedule:
        # Runs every 12 minutes
        - cron: "*/12 * * * *"
    workflow_dispatch: # Allows manual trigger for testing

jobs:
    cron:
        runs-on: ubuntu-latest
        timeout-minutes: 5

        steps:
            - name: Trigger cron endpoint
              run: |
                  curl -f -X GET \
                    "${{ secrets.NEXT_PUBLIC_APP_URL }}/api/cron?key=${{ secrets.CRON_SECRET }}"
